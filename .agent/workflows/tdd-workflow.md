---
description: Mandatory TDD protocol (Red-Green-Refactor)
---

# TDD Workflow

All logic changes must follow the Test-Driven Development cycle.

## 1. RED: Write a Failing Test
- Identify the specific behavior to implement.
- Write a unit test in the appropriate test directory (e.g., `tests/` or `backend/tests/`).
- Run the test and ensure it fails for the expected reason.

```bash
npm test
```

## 2. GREEN: Minimal Implementation
- Write the minimal amount of code required to make the test pass.
- Do not add extra features or refactor at this stage.
- Run the test again to verify it passes.

## 3. REFACTOR: Clean Up
- Improve the code structure, naming, and readability.
- Maintain the "Green" state by running tests frequently.
- Ensure all other project tests still pass.

## Best Practices
- **Mocking**: Use real data snapshots for mocks to ensure accuracy.
- **Isolation**: Tests should not depend on external environment state.
- **Assertion Clarity**: Use clear, descriptive assertions.
